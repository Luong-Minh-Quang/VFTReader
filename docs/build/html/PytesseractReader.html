
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PytesseractReader &#8212; Visual Field Test reader 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="HFAv2Reader" href="HFAv2Reader.html" />
    <link rel="prev" title="CSVReader" href="CSVReader.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="HFAv2Reader.html" title="HFAv2Reader"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="CSVReader.html" title="CSVReader"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Visual Field Test reader 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Documentations</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="reader.html" accesskey="U">reader</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">PytesseractReader</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-PytesseractReader">
<span id="pytesseractreader"></span><h1>PytesseractReader<a class="headerlink" href="#module-PytesseractReader" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">PytesseractReader.</span></span><span class="sig-name descname"><span class="pre">PytesseractReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">curActivity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PytesseractReader.PytesseractReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">reader.ReportReader.ReportReader</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">curActivity</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">None</span><a class="headerlink" href="#PytesseractReader.PytesseractReader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>A VFT report reader using pytesseract as the OCR engine</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.curActivity">
<span class="sig-name descname"><span class="pre">curActivity</span></span><a class="headerlink" href="#PytesseractReader.PytesseractReader.curActivity" title="Permalink to this definition">¶</a></dt>
<dd><p>The control of the activity that initialized an instance of the reader. Must subclass ExtractionControl.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.dir">
<span class="sig-name descname"><span class="pre">dir</span></span><a class="headerlink" href="#PytesseractReader.PytesseractReader.dir" title="Permalink to this definition">¶</a></dt>
<dd><p>The directory containing the reports to be extracted</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.HFAv3reader">
<span class="sig-name descname"><span class="pre">HFAv3reader</span></span><a class="headerlink" href="#PytesseractReader.PytesseractReader.HFAv3reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Algorithm for processing HFAv3 format</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.HFAv2reader">
<span class="sig-name descname"><span class="pre">HFAv2reader</span></span><a class="headerlink" href="#PytesseractReader.PytesseractReader.HFAv2reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Algorithm for processing HFAv2 format</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.ocr_core">
<span class="sig-name descname"><span class="pre">ocr_core</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PytesseractReader.PytesseractReader.ocr_core" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the text from an image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>Image</em>) – The input image</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The text inside the image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.pdf_to_img">
<span class="sig-name descname"><span class="pre">pdf_to_img</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PytesseractReader.PytesseractReader.pdf_to_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a .pdf file to an Image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pdf_file</strong> (<em>str</em>) – The path to the file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The pages of the pdf file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PytesseractReader.PytesseractReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all eligible VFT reports in a directory.</p>
<p>Eligible extensions include: .pdf, .png, .jpg, .tif . The application has only been tested against .tif and .pdf files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dir</strong> (<em>str</em>) – The path to the directory</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of extracted VFT reports</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="VFTReport.html#VFTReport.VFTReport" title="VFTReport.VFTReport">VFTReport</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.readfile">
<span class="sig-name descname"><span class="pre">readfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#PytesseractReader.PytesseractReader.readfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an individual report.</p>
<p>We noticed that HFAv3-type reports have a different format compared to HFAv2-type reports.
Moreover, we have noticed that VFT reports seem to have a small line near the bottom indicating
whether it is a HFAv3 report or a HFAv2 report. We also assumed that HFAv3 reports will
always be colorized, and HFAv2 reports will always be black and white.</p>
<p>This method firstly crops out the bottom 1/10th of the report. It then scans the cropped part
for the string ‘HFA II’ or ‘HFA 3’. If either of those exists, the appropriate reader will be
called to continue processing. If neither of them exists, the appropriate reader will be decided
based on whether the image is in black &amp; white or not.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A typical report should take about 2 minutes to be processed, with no other heavy processes running in the background.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir</strong> (<em>str</em>) – The directory leading to the file.</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The name of the file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The VFT report in the image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="VFTReport.html#VFTReport.VFTReport" title="VFTReport.VFTReport">VFTReport</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="PytesseractReader.PytesseractReader.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PytesseractReader.PytesseractReader.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="CSVReader.html"
                        title="previous chapter">CSVReader</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="HFAv2Reader.html"
                        title="next chapter">HFAv2Reader</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/PytesseractReader.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="HFAv2Reader.html" title="HFAv2Reader"
             >next</a> |</li>
        <li class="right" >
          <a href="CSVReader.html" title="CSVReader"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Visual Field Test reader 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Documentations</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="reader.html" >reader</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">PytesseractReader</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Luong Minh Quang.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.3.
    </div>
  </body>
</html>